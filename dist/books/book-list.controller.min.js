angular.module("bookShelf").controller("BookListController",["$scope","BookService","$location","$uibModal","$log",function(o,t,e,n,a){var i=this;function l(){t.getBookList().then(function(o){i.bookList=o,i.totalRecords=o.length,i.paginate(1)})}function r(o){n.open({animation:!1,templateUrl:"addEditModal.html",controller:"AddEditModalInstanceCtrl",controllerAs:"vm",backdropClass:"backdrop-delete",resolve:{book:function(){return o}}}).result.then(function(o){t.syncBook(o).then(function(o){l()})},function(){a.info("Modal dismissed")})}i.pages=[],i.pageSize=10,i.pageNumber=1,i.getBookList=l,i.editBook=function(o,e){o.stopPropagation(),r(e)},i.addNew=function(){r()},i.removeBook=function(o,e){o.stopPropagation(),n.open({animation:!1,templateUrl:"deleteModal.html",controller:"DeleteModalInstanceCtrl",controllerAs:"vm",backdropClass:"backdrop-delete",size:"sm"}).result.then(function(){t.removeBook(e).then(function(o){l()})},function(){a.info("Modal dismissed")})},i.paginate=function(o){i.pageNumber=o,i.pages=[];for(var e=0;e<i.totalRecords/i.pageSize;e++)i.pages.push(e+1);i.books=t.paginate(i.bookList,o,i.pageSize)},i.changePageSize=function(o){i.paginate(1)},i.getSerialNumber=function(o){return(i.pageNumber-1)*i.pageSize+(o+1)},i.pageSizeOptions=[{id:10,name:10},{id:20,name:20}],i.getBookList()}]);